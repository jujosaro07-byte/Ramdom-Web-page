<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Web Explorer | Pure Random & Adaptive Modes</title>
    <meta name="description" content="Discover random websites across the internet. Pure Random and Adaptive modes with intelligent learning algorithms. Find hidden gems online.">
    <meta name="keywords" content="random website, domain finder, web explorer, internet discovery, random link">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== ESTILO COMPACTO ORIGINAL MEJORADO ===== */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        }
        
        body {
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #f0f2f5;
        }
        
        .container {
            max-width: 850px;
            width: 100%;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid #e1e5e9;
            margin-top: 20px;
        }
        
        header { 
            text-align: center; 
            margin-bottom: 30px; 
        }
        
        h1 { 
            font-size: 2.5rem; 
            margin-bottom: 10px; 
            color: #2c3e50;
        }
        
        .tagline {
            font-size: 1.1rem;
            color: #7f8c8d;
            max-width: 600px;
            margin: 0 auto 25px;
            line-height: 1.5;
        }
        
        /* ===== SELECTOR DE MODO Y M√çNIMO ===== */
        .mode-minimum-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-bottom: 25px;
            align-items: center;
        }
        
        .mode-selector {
            display: flex;
            gap: 10px;
        }
        
        .mode-btn {
            padding: 10px 20px;
            border: 2px solid #3498db;
            background: white;
            color: #3498db;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .mode-btn:hover {
            background: #f8f9fa;
        }
        
        .mode-btn.active {
            background: #3498db;
            color: white;
        }
        
        .minimum-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #f8f9fa;
            padding: 8px 15px;
            border-radius: 8px;
            border: 1px solid #e1e5e9;
        }
        
        .minimum-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            font-weight: 600;
        }
        
        .minimum-options {
            display: flex;
            gap: 5px;
        }
        
        .minimum-option {
            padding: 6px 12px;
            border: 1px solid #3498db;
            background: white;
            color: #3498db;
            border-radius: 5px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .minimum-option:hover {
            background: #f8f9fa;
        }
        
        .minimum-option.active {
            background: #3498db;
            color: white;
        }
        
        /* ===== ESTAD√çSTICAS COMPACTAS ===== */
        .stats-bar {
            display: flex;
            justify-content: space-around;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 25px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
        }
        
        .stat-box {
            text-align: center;
            padding: 10px;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
            transition: transform 0.2s;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 5px;
        }
        
        /* ===== ESTAD√çSTICAS ADAPTATIVAS ===== */
        .adaptive-stats {
            display: none;
            flex-wrap: wrap;
            justify-content: space-around;
            padding: 15px;
            margin-bottom: 20px;
            background: #e8f4fc;
            border-radius: 10px;
            border: 1px solid #b3e0ff;
            animation: fadeIn 0.3s;
            gap: 10px;
        }
        
        .adaptive-stats.visible {
            display: flex;
        }
        
        .adaptive-stat {
            text-align: center;
            padding: 5px 15px;
            min-width: 120px;
        }
        
        .adaptive-label {
            font-size: 0.8rem;
            color: #2980b9;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .adaptive-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: #154360;
            font-family: monospace;
        }
        
        .range-label {
            font-size: 0.75rem;
            color: #1a5276;
            margin-top: 3px;
        }
        
        /* ===== CONTROLES ===== */
        .control-panel {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.2s;
            min-width: 180px;
        }
        
        .btn-primary {
            background: #2ecc71;
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            background: #27ae60;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
        }
        
        .btn-secondary {
            background: #e74c3c;
            color: white;
        }
        
        .btn-secondary:hover:not(:disabled) {
            background: #c0392b;
        }
        
        .btn-success {
            background: #3498db;
            color: white;
        }
        
        .btn-success:hover:not(:disabled) {
            background: #2980b9;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* ===== PANEL DE ESTADO ===== */
        .status-container {
            background-color: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            border-left: 5px solid #3498db;
            transition: all 0.3s;
        }
        
        .status-searching {
            border-left-color: #f39c12;
            background-color: #fff8e1;
        }
        
        .status-found {
            border-left-color: #2ecc71;
            background-color: #e8f6f3;
        }
        
        .status-notfound {
            border-left-color: #e74c3c;
            background-color: #fdedec;
        }
        
        .status-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        
        .status-icon {
            font-size: 1.3rem;
        }
        
        .status-message {
            font-weight: 600;
            font-size: 1.1rem;
            flex: 1;
        }
        
        .current-attempt {
            font-family: 'Courier New', monospace;
            background-color: rgba(0, 0, 0, 0.05);
            padding: 12px;
            border-radius: 6px;
            margin-top: 10px;
            word-break: break-all;
            font-size: 0.95rem;
            border: 1px solid rgba(0, 0, 0, 0.1);
            line-height: 1.5;
        }
        
        /* ===== RESULTADO ===== */
        .result-container {
            background: #e8f6f3;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            border: 2px solid #2ecc71;
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .result-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #27ae60;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .verified-link {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2c3e50;
            word-break: break-all;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #bdc3c7;
            transition: all 0.2s;
        }
        
        .verified-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .verified-link a {
            color: #2980b9;
            text-decoration: none;
        }
        
        .verified-link a:hover {
            text-decoration: underline;
        }
        
        /* ===== FOOTER INFORMATIVO ===== */
        .info-footer {
            margin-top: 40px;
            width: 100%;
            max-width: 800px;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid #e1e5e9;
        }
        
        .info-section {
            margin-bottom: 30px;
        }
        
        .info-section:last-child {
            margin-bottom: 0;
        }
        
        .info-section h3 {
            font-size: 1.3rem;
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #3498db;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-section p {
            color: #5d6d7e;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .info-list {
            list-style-type: none;
            padding-left: 0;
        }
        
        .info-list li {
            padding: 8px 0;
            color: #5d6d7e;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .info-list li i {
            color: #3498db;
            margin-top: 3px;
        }
        
        /* ===== ADS PLACEHOLDERS ===== */
        .ad-placeholder {
            width: 100%;
            background: linear-gradient(to right, #f8f9fa, #e9ecef);
            border: 2px dashed #bdc3c7;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9rem;
            margin: 20px 0;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* ===== FOOTER SIMPLE ===== */
        .simple-footer {
            margin-top: 30px;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid #e1e5e9;
            width: 100%;
            max-width: 800px;
        }
        
        /* ===== ANIMACIONES ===== */
        .pulse { 
            animation: pulse-animation 1.5s infinite; 
        }
        
        @keyframes pulse-animation { 
            0% { opacity: 1; } 
            50% { opacity: 0.5; } 
            100% { opacity: 1; } 
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes statBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .stat-update {
            animation: statBounce 0.3s ease;
        }
        
        /* ===== RESPONSIVE MEJORADO ===== */
        @media (max-width: 768px) {
            .container { 
                padding: 15px; 
                border-radius: 15px;
            }
            
            h1 { 
                font-size: 2rem; 
            }
            
            .mode-minimum-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .mode-selector, .minimum-selector {
                width: 100%;
                justify-content: center;
            }
            
            .mode-btn, .minimum-option {
                flex: 1;
                text-align: center;
                justify-content: center;
            }
            
            .control-panel { 
                flex-direction: column; 
                align-items: center; 
                width: 100%;
            }
            
            .btn { 
                width: 100%; 
                max-width: 100%; 
                padding: 16px;
            }
            
            .stats-bar, .adaptive-stats { 
                flex-direction: column; 
                gap: 15px; 
            }
            
            .stat-box, .adaptive-stat {
                width: 100%;
            }
            
            .verified-link { 
                font-size: 1.1rem; 
                padding: 12px; 
            }
            
            .info-footer {
                padding: 20px;
                margin-top: 20px;
            }
            
            .info-section h3 {
                font-size: 1.1rem;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            h1 { 
                font-size: 1.8rem; 
            }
            
            .stat-value {
                font-size: 1.8rem;
            }
            
            .adaptive-value {
                font-size: 1.2rem;
            }
            
            .btn {
                padding: 14px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-globe-americas"></i> Random Web Explorer</h1>
            <p class="tagline">Discover hidden corners of the internet. Two modes: Pure Random (simple) and Adaptive (intelligent learning).</p>
        </header>
        
        <!-- Selector de modo y m√≠nimo -->
        <div class="mode-minimum-container">
            <div class="mode-selector">
                <button class="mode-btn active" id="pureRandomModeBtn">
                    <i class="fas fa-dice"></i> Pure Random
                </button>
                <button class="mode-btn" id="adaptiveModeBtn">
                    <i class="fas fa-brain"></i> Adaptive
                </button>
            </div>
            
            <div class="minimum-selector">
                <div class="minimum-label">Min Length:</div>
                <div class="minimum-options">
                    <button class="minimum-option active" data-min="2">2-12</button>
                    <button class="minimum-option" data-min="5">5-12</button>
                    <button class="minimum-option" data-min="9">9-12</button>
                </div>
            </div>
        </div>
        
        <!-- Estad√≠sticas principales -->
        <div class="stats-bar">
            <div class="stat-box">
                <div class="stat-value" id="totalAttempts">0</div>
                <div class="stat-label">Total Attempts</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="foundCount">0</div>
                <div class="stat-label">Sites Found</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="successRate">0%</div>
                <div class="stat-label">Success Rate</div>
            </div>
        </div>
        
        <!-- Estad√≠sticas adaptativas -->
        <div class="adaptive-stats" id="adaptiveStats">
            <div class="adaptive-stat">
                <div class="adaptive-label">CV Family</div>
                <div class="adaptive-value" id="cvFamilyScore">50%</div>
                <div class="range-label" id="cvRangeLabel">All ranges</div>
            </div>
            <div class="adaptive-stat">
                <div class="adaptive-label">VC Family</div>
                <div class="adaptive-value" id="vcFamilyScore">50%</div>
                <div class="range-label" id="vcRangeLabel">All ranges</div>
            </div>
            <div class="adaptive-stat">
                <div class="adaptive-label">Best Pattern</div>
                <div class="adaptive-value" id="bestMutation">CVCV</div>
                <div class="range-label" id="bestPatternRange">Current range</div>
            </div>
        </div>
        
        <!-- Placeholder para Ads 
        <div class="ad-placeholder">
            Advertisement Space (For Adsense/Affiliate)
        </div>-->
        
        <!-- Controles -->
        <div class="control-panel">
            <button class="btn btn-primary" onclick="startSearch()" id="startBtn">
                <i class="fas fa-search"></i> Start Discovery
            </button>
            <button class="btn btn-secondary" onclick="stopSearch()" id="stopBtn" disabled>
                <i class="fas fa-stop"></i> Stop Search
            </button>
            <button class="btn btn-success" onclick="openCurrentLink()" id="openBtn" disabled>
                <i class="fas fa-external-link-alt"></i> Open Found Site
            </button>
        </div>
        
        <!-- Panel de estado -->
        <div class="status-container" id="statusContainer">
            <div class="status-header">
                <i class="fas fa-info-circle status-icon" id="statusIcon"></i>
                <div class="status-message" id="statusMessage">Ready. Pure Random mode (2-12 chars).</div>
            </div>
            <div class="current-attempt" id="currentAttempt">
                Click "Start Discovery" to begin.
            </div>
        </div>
        
        <!-- Resultado -->
        <div class="result-container" id="resultContainer">
            <div class="result-title"><i class="fas fa-trophy"></i> Discovery Successful!</div>
            <div>Your verified random website is:</div>
            <div class="verified-link" id="verifiedLinkDisplay"></div>
            <p>Click the button above to open it in a new tab, or copy the URL.</p>
        </div>
        
        <!-- Placeholder para Ads 
        <div class="ad-placeholder">
            Advertisement Space (For Adsense/Affiliate)
        </div>-->
    </div>
    
    <!-- Footer Informativo -->
    <div class="info-footer">
        <div class="info-section">
            <h3><i class="fas fa-info-circle"></i> Introduction</h3>
            <p>Random Web Explorer is a tool that discovers random websites across the internet. It generates random domain names and verifies if they exist using intelligent algorithms.</p>
            <p>Perfect for web explorers, developers, and curious minds who want to discover the hidden corners of the internet.</p>
        </div>
        
        <div class="info-section">
            <h3><i class="fas fa-cogs"></i> How It Works</h3>
            <ul class="info-list">
                <li><i class="fas fa-random"></i> <strong>Pure Random Mode:</strong> Generates completely random domain names with 2-12 characters. Simple, unpredictable, and fun.</li>
                <li><i class="fas fa-brain"></i> <strong>Adaptive Mode:</strong> Uses machine learning to improve success rates. Learns which patterns (CV or VC families) work best for different length ranges.</li>
                <li><i class="fas fa-check-circle"></i> <strong>Verification:</strong> Checks each domain by attempting to load its favicon. If the favicon loads, the site exists and is working.</li>
                <li><i class="fas fa-save"></i> <strong>Persistent Learning:</strong> Your progress and adaptive learning are saved in your browser using localStorage.</li>
            </ul>
        </div>
        
        <div class="info-section">
            <h3><i class="fas fa-question-circle"></i> FAQ</h3>
            <ul class="info-list">
                <li><i class="fas fa-question"></i> <strong>Is this legal?</strong> Yes, we're only checking if websites exist, not hacking or accessing restricted content.</li>
                <li><i class="fas fa-question"></i> <strong>How long does it take to find a site?</strong> Typically 10-100 attempts, but it varies based on mode and minimum length settings.</li>
                <li><i class="fas fa-question"></i> <strong>Can I use the found websites?</strong> Yes, all found websites are publicly accessible. Use normal caution when browsing unknown sites.</li>
                <li><i class="fas fa-question"></i> <strong>Does it work on mobile?</strong> Yes, fully responsive design works on all devices.</li>
                <li><i class="fas fa-question"></i> <strong>Is my data saved?</strong> Only in your browser (localStorage). No data is sent to any server.</li>
            </ul>
        </div>
    </div>
    
    <!-- Footer Simple -->
    <footer class="simple-footer">
        <p>Random Web Explorer v6.0 | Pure Random & Adaptive Modes | Persistent Learning | Mobile Optimized</p>
        <p style="margin-top: 8px; font-size: 0.8rem; color: #95a5a6;">
            ¬© 2024 Random Web Explorer | All discoveries are random and publicly accessible websites.
        </p>
    </footer>

    <script>
        // ========== CONFIGURACI√ìN √ìPTIMA ==========
        const CONFIG = {
            MAX_CHARS: 12,
            MAX_ATTEMPTS: 500,
            CHECK_TIMEOUT: 2500,
            DELAY_BETWEEN_CHECKS: 50,
            TLDs: ['.com', '.net', '.org', '.info', '.biz', '.io'],
            ADAPTIVE: {
                FAMILIES: ['CV', 'VC'],
                BASE_PATTERNS: { 'CV': 'CVCV', 'VC': 'VCVC' },
                MUTATION_RATE: 0.2,
                LEARNING_RATE: 0.05,
                MIN_SCORE: 0.1,
                MAX_SCORE: 0.9
            }
        };

        // ========== CARACTERES PARA GENERACI√ìN ==========
        const allChars = 'abcdefghijklmnopqrstuvwxyz0123456789';
        const vowels = 'aeiou';
        const consonants = 'bcdfghjklmnpqrstvwxyz';

        // ========== ESTADO DE LA APLICACI√ìN ==========
        let currentMode = 'pureRandom';
        let currentMinLength = 2;
        let appState = {
            searchActive: false,
            searchInterval: null,
            currentVerifiedUrl: '',
            stats: {
                totalAttempts: 0,
                foundCount: 0,
                currentSessionAttempts: 0
            },
            // Estado del Adaptive Mode por rango
            adaptiveState: {
                // Rangos: '2-4', '5-8', '9-12'
                ranges: {
                    '2-4': { familyScores: { 'CV': 0.5, 'VC': 0.5 }, bestMutation: 'CVCV', mutationHistory: {} },
                    '5-8': { familyScores: { 'CV': 0.5, 'VC': 0.5 }, bestMutation: 'CVCV', mutationHistory: {} },
                    '9-12': { familyScores: { 'CV': 0.5, 'VC': 0.5 }, bestMutation: 'CVCV', mutationHistory: {} }
                },
                currentRange: null,
                currentFamily: null,
                currentPattern: null
            }
        };

        // ========== LOCALSTORAGE FUNCTIONS ==========
        const STORAGE_KEY = 'randomWebExplorerData';
        
        function saveToLocalStorage() {
            const dataToSave = {
                stats: appState.stats,
                adaptiveState: appState.adaptiveState,
                savedAt: new Date().toISOString()
            };
            localStorage.setItem(STORAGE_KEY, JSON.stringify(dataToSave));
        }
        
        function loadFromLocalStorage() {
            const savedData = localStorage.getItem(STORAGE_KEY);
            if (savedData) {
                try {
                    const parsed = JSON.parse(savedData);
                    
                    // Cargar estad√≠sticas
                    if (parsed.stats) {
                        appState.stats.totalAttempts = parsed.stats.totalAttempts || 0;
                        appState.stats.foundCount = parsed.stats.foundCount || 0;
                    }
                    
                    // Cargar estado adaptativo
                    if (parsed.adaptiveState && parsed.adaptiveState.ranges) {
                        Object.keys(appState.adaptiveState.ranges).forEach(range => {
                            if (parsed.adaptiveState.ranges[range]) {
                                appState.adaptiveState.ranges[range] = {
                                    ...appState.adaptiveState.ranges[range],
                                    ...parsed.adaptiveState.ranges[range]
                                };
                            }
                        });
                    }
                    
                    console.log('‚úÖ Loaded saved data from localStorage');
                    return true;
                } catch (e) {
                    console.error('‚ùå Error loading from localStorage:', e);
                    return false;
                }
            }
            return false;
        }
        
        function clearLocalStorage() {
            localStorage.removeItem(STORAGE_KEY);
            console.log('üßπ LocalStorage cleared');
        }

        // ========== ELEMENTOS DOM ==========
        const pureRandomModeBtn = document.getElementById('pureRandomModeBtn');
        const adaptiveModeBtn = document.getElementById('adaptiveModeBtn');
        const minLengthOptions = document.querySelectorAll('.minimum-option');
        const adaptiveStats = document.getElementById('adaptiveStats');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const openBtn = document.getElementById('openBtn');
        const statusContainer = document.getElementById('statusContainer');
        const statusIcon = document.getElementById('statusIcon');
        const statusMessage = document.getElementById('statusMessage');
        const currentAttemptEl = document.getElementById('currentAttempt');
        const resultContainer = document.getElementById('resultContainer');
        const verifiedLinkDisplay = document.getElementById('verifiedLinkDisplay');
        const totalAttemptsEl = document.getElementById('totalAttempts');
        const foundCountEl = document.getElementById('foundCount');
        const successRateEl = document.getElementById('successRate');
        const cvFamilyScoreEl = document.getElementById('cvFamilyScore');
        const vcFamilyScoreEl = document.getElementById('vcFamilyScore');
        const bestMutationEl = document.getElementById('bestMutation');
        const cvRangeLabel = document.getElementById('cvRangeLabel');
        const vcRangeLabel = document.getElementById('vcRangeLabel');
        const bestPatternRange = document.getElementById('bestPatternRange');

        // ========== FUNCIONES AUXILIARES ==========
        function getCurrentRange(length) {
            if (length >= 2 && length <= 4) return '2-4';
            if (length >= 5 && length <= 8) return '5-8';
            return '9-12';
        }
        
        function getActiveRange() {
            if (currentMinLength >= 9) return '9-12';
            if (currentMinLength >= 5) return '5-8';
            return '2-4';
        }
        
        function getRandomLength() {
            const min = currentMinLength;
            const max = CONFIG.MAX_CHARS;
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // ========== INICIALIZACI√ìN DE MODO ==========
        function setMode(mode) {
            currentMode = mode;
            
            // Actualizar botones
            pureRandomModeBtn.classList.toggle('active', mode === 'pureRandom');
            adaptiveModeBtn.classList.toggle('active', mode === 'adaptive');
            
            // Mostrar/ocultar estad√≠sticas adaptativas
            adaptiveStats.classList.toggle('visible', mode === 'adaptive');
            
            // Actualizar estad√≠sticas adaptativas si es necesario
            if (mode === 'adaptive') {
                updateAdaptiveStatsDisplay();
            }
            
            // Actualizar estado
            const rangeLabel = currentMinLength === 2 ? '2-12' : 
                             currentMinLength === 5 ? '5-12' : '9-12';
            
            setStatus('ready', 
                mode === 'pureRandom' 
                    ? `Pure Random mode selected (${rangeLabel} chars)` 
                    : `Adaptive mode selected (${rangeLabel} chars)`,
                mode === 'pureRandom'
                    ? 'Generating completely random domains'
                    : 'Learning optimal patterns for current length range'
            );
        }

        function setMinLength(min) {
            currentMinLength = min;
            
            // Actualizar botones
            minLengthOptions.forEach(option => {
                option.classList.toggle('active', parseInt(option.dataset.min) === min);
            });
            
            // Actualizar display adaptativo
            if (currentMode === 'adaptive') {
                updateAdaptiveStatsDisplay();
            }
            
            // Actualizar estado
            const rangeLabel = min === 2 ? '2-12' : 
                             min === 5 ? '5-12' : '9-12';
            
            setStatus('ready', 
                currentMode === 'pureRandom' 
                    ? `Pure Random mode (${rangeLabel} chars)` 
                    : `Adaptive mode (${rangeLabel} chars)`,
                `Minimum length set to ${min} characters`
            );
        }

        // ========== ACTUALIZACI√ìN DE INTERFAZ ==========
        function updateStatsDisplay() {
            // Actualizar valores
            totalAttemptsEl.textContent = appState.stats.totalAttempts;
            foundCountEl.textContent = appState.stats.foundCount;
            
            // Calcular tasa de √©xito
            const rate = appState.stats.totalAttempts > 0 
                ? ((appState.stats.foundCount / appState.stats.totalAttempts) * 100).toFixed(2)
                : 0;
            successRateEl.textContent = `${rate}%`;
            
            // Animaci√≥n
            [totalAttemptsEl, foundCountEl, successRateEl].forEach(el => {
                el.classList.remove('stat-update');
                void el.offsetWidth;
                el.classList.add('stat-update');
            });
            
            // Guardar en localStorage
            saveToLocalStorage();
        }

        function updateAdaptiveStatsDisplay() {
            const activeRange = getActiveRange();
            const rangeState = appState.adaptiveState.ranges[activeRange];
            
            if (rangeState) {
                const cvScore = Math.round(rangeState.familyScores['CV'] * 100);
                const vcScore = Math.round(rangeState.familyScores['VC'] * 100);
                
                cvFamilyScoreEl.textContent = `${cvScore}%`;
                vcFamilyScoreEl.textContent = `${vcScore}%`;
                bestMutationEl.textContent = rangeState.bestMutation || 'CVCV';
                
                // Actualizar labels de rango
                cvRangeLabel.textContent = activeRange;
                vcRangeLabel.textContent = activeRange;
                bestPatternRange.textContent = activeRange;
            }
        }

        function setStatus(type, message, attemptText = '') {
            statusContainer.className = 'status-container';
            if (type !== 'ready') {
                statusContainer.classList.add(`status-${type}`);
            }
            
            const icons = {
                searching: 'fas fa-sync-alt pulse',
                found: 'fas fa-check-circle',
                notfound: 'fas fa-exclamation-triangle',
                ready: 'fas fa-info-circle'
            };
            statusIcon.className = `status-icon ${icons[type] || icons.ready}`;
            
            statusMessage.textContent = message;
            currentAttemptEl.textContent = attemptText;
        }

        // ========== GENERADORES DE DOMINIO ==========
        function getPureRandomDomain() {
            const length = getRandomLength();
            let domain = '';
            
            for (let i = 0; i < length; i++) {
                domain += allChars.charAt(Math.floor(Math.random() * allChars.length));
            }
            
            const tld = CONFIG.TLDs[Math.floor(Math.random() * CONFIG.TLDs.length)];
            return { 
                domain: domain + tld, 
                length: length,
                method: 'Pure Random',
                pattern: 'N/A',
                range: getCurrentRange(length)
            };
        }

        function getAdaptiveDomain() {
            const length = getRandomLength();
            const currentRange = getCurrentRange(length);
            const rangeState = appState.adaptiveState.ranges[currentRange];
            
            appState.adaptiveState.currentRange = currentRange;
            
            // Seleccionar familia basada en scores
            let selectedFamily;
            const rand = Math.random();
            
            if (rand < rangeState.familyScores['CV']) {
                selectedFamily = 'CV';
            } else {
                selectedFamily = 'VC';
            }
            
            appState.adaptiveState.currentFamily = selectedFamily;
            
            // Obtener patr√≥n base
            let pattern = CONFIG.ADAPTIVE.BASE_PATTERNS[selectedFamily];
            appState.adaptiveState.currentPattern = pattern;
            
            // Aplicar mutaci√≥n aleatoria
            let mutated = false;
            if (Math.random() < CONFIG.ADAPTIVE.MUTATION_RATE && length >= 3) {
                pattern = applyRandomMutation(pattern, length);
                mutated = true;
            }
            
            // Generar dominio basado en patr√≥n
            let domain = '';
            for (let i = 0; i < length; i++) {
                const patternIndex = i % pattern.length;
                const charType = pattern[patternIndex];
                
                switch(charType) {
                    case 'C':
                        domain += consonants.charAt(Math.floor(Math.random() * consonants.length));
                        break;
                    case 'V':
                        domain += vowels.charAt(Math.floor(Math.random() * vowels.length));
                        break;
                    default:
                        domain += allChars.charAt(Math.floor(Math.random() * allChars.length));
                }
            }
            
            const tld = CONFIG.TLDs[Math.floor(Math.random() * CONFIG.TLDs.length)];
            return { 
                domain: domain + tld, 
                length: length,
                method: 'Adaptive',
                pattern: pattern,
                family: selectedFamily,
                mutated: mutated,
                range: currentRange
            };
        }

        function applyRandomMutation(basePattern, length) {
            const patternChars = basePattern.split('');
            const mutationPos = Math.floor(Math.random() * Math.min(patternChars.length, length));
            const mutationType = Math.random();
            
            if (mutationType < 0.33 && patternChars.length > 2) {
                patternChars.splice(mutationPos, 1);
            } else if (mutationType < 0.66 && patternChars.length < 6) {
                const newChar = Math.random() < 0.5 ? 'C' : 'V';
                patternChars.splice(mutationPos, 0, newChar);
            } else {
                patternChars[mutationPos] = patternChars[mutationPos] === 'C' ? 'V' : 'C';
            }
            
            return patternChars.join('');
        }

        // ========== M√âTODO DE VERIFICACI√ìN ==========
        function testUrl(domain) {
            return new Promise((resolve) => {
                const timeoutId = setTimeout(() => resolve(false), CONFIG.CHECK_TIMEOUT);
                
                const img = new Image();
                img.onload = () => { 
                    clearTimeout(timeoutId); 
                    resolve(true); 
                };
                img.onerror = () => { 
                    clearTimeout(timeoutId); 
                    resolve(false); 
                };
                
                img.src = `https://${domain}/favicon.ico?t=${Date.now()}`;
            });
        }

        // ========== APRENDIZAJE ADAPTATIVO ==========
        function updateAdaptiveLearning(success, domainResult) {
            if (!success || currentMode !== 'adaptive' || !domainResult.family || !domainResult.range) return;
            
            const config = CONFIG.ADAPTIVE;
            const family = domainResult.family;
            const range = domainResult.range;
            const rangeState = appState.adaptiveState.ranges[range];
            
            if (!rangeState) return;
            
            // Actualizar score de la familia para este rango
            const adjustment = success ? config.LEARNING_RATE : -config.LEARNING_RATE * 0.5;
            rangeState.familyScores[family] += adjustment;
            
            // Mantener dentro de l√≠mites
            rangeState.familyScores[family] = Math.max(
                config.MIN_SCORE,
                Math.min(config.MAX_SCORE, rangeState.familyScores[family])
            );
            
            // Normalizar para que CV + VC = 1 en este rango
            const total = rangeState.familyScores['CV'] + rangeState.familyScores['VC'];
            rangeState.familyScores['CV'] /= total;
            rangeState.familyScores['VC'] /= total;
            
            // Si fue una mutaci√≥n exitosa, trackearla
            if (success && domainResult.mutated) {
                const pattern = domainResult.pattern;
                if (!rangeState.mutationHistory[pattern]) {
                    rangeState.mutationHistory[pattern] = 0;
                }
                rangeState.mutationHistory[pattern]++;
                
                // Actualizar mejor mutaci√≥n para este rango
                const currentBestScore = rangeState.mutationHistory[rangeState.bestMutation] || 0;
                if (rangeState.mutationHistory[pattern] > currentBestScore) {
                    rangeState.bestMutation = pattern;
                }
            }
            
            // Actualizar display y guardar
            updateAdaptiveStatsDisplay();
            saveToLocalStorage();
        }

        // ========== B√öSQUEDA PRINCIPAL ==========
        async function startSearch() {
            if (appState.searchActive) return;
            
            appState.searchActive = true;
            appState.stats.currentSessionAttempts = 0;
            startBtn.disabled = true;
            stopBtn.disabled = false;
            openBtn.disabled = true;
            resultContainer.style.display = 'none';
            pureRandomModeBtn.disabled = true;
            adaptiveModeBtn.disabled = true;
            minLengthOptions.forEach(btn => btn.disabled = true);
            
            const rangeLabel = currentMinLength === 2 ? '2-12' : 
                             currentMinLength === 5 ? '5-12' : '9-12';
            
            setStatus('searching', 
                currentMode === 'pureRandom' 
                    ? `Pure Random search running (${rangeLabel})...` 
                    : `Adaptive search running (${rangeLabel})...`,
                `Speed: ${Math.round(1000/CONFIG.DELAY_BETWEEN_CHECKS)} attempts/sec | Max: ${CONFIG.MAX_ATTEMPTS} attempts`
            );
            
            // Usar setInterval para m√°xima velocidad
            appState.searchInterval = setInterval(async () => {
                if (!appState.searchActive || appState.stats.currentSessionAttempts >= CONFIG.MAX_ATTEMPTS) {
                    if (appState.stats.currentSessionAttempts >= CONFIG.MAX_ATTEMPTS) {
                        setStatus('notfound', `Maximum attempts reached (${CONFIG.MAX_ATTEMPTS}).`, 'Try again or adjust settings.');
                    }
                    stopSearch();
                    return;
                }
                
                appState.stats.currentSessionAttempts++;
                appState.stats.totalAttempts++;
                
                // Generar dominio seg√∫n el modo
                const domainResult = currentMode === 'pureRandom' 
                    ? getPureRandomDomain() 
                    : getAdaptiveDomain();
                
                // Mostrar intento actual
                const displayDetail = currentMode === 'pureRandom'
                    ? `Attempt ${appState.stats.currentSessionAttempts}: ${domainResult.length} chars ‚Ä¢ ${domainResult.domain}`
                    : `Attempt ${appState.stats.currentSessionAttempts}: ${domainResult.range} ‚Ä¢ ${domainResult.family} ‚Ä¢ ${domainResult.pattern} ‚Ä¢ ${domainResult.domain}`;
                
                setStatus('searching', 'Testing domain...', displayDetail);
                
                // Actualizar estad√≠sticas EN TIEMPO REAL
                updateStatsDisplay();
                
                // Verificar dominio
                const isWorking = await testUrl(domainResult.domain);
                
                if (isWorking && appState.searchActive) {
                    // ¬°√âXITO!
                    appState.currentVerifiedUrl = `https://${domainResult.domain}`;
                    appState.stats.foundCount++;
                    
                    // Actualizar aprendizaje adaptativo
                    if (currentMode === 'adaptive') {
                        updateAdaptiveLearning(true, domainResult);
                    }
                    
                    // Detener b√∫squeda
                    clearInterval(appState.searchInterval);
                    appState.searchActive = false;
                    
                    setStatus('found', 'Website discovered!', 
                        `Found after ${appState.stats.currentSessionAttempts} attempts ‚Ä¢ Length: ${domainResult.length} chars ‚Ä¢ Range: ${domainResult.range}`
                    );
                    
                    // Mostrar enlace
                    verifiedLinkDisplay.innerHTML = `<a href="${appState.currentVerifiedUrl}" target="_blank" rel="noopener noreferrer">${appState.currentVerifiedUrl}</a>`;
                    resultContainer.style.display = 'block';
                    openBtn.disabled = false;
                    updateStatsDisplay();
                    
                    // Habilitar controles
                    startBtn.disabled = false;
                    stopBtn.disabled = true;
                    pureRandomModeBtn.disabled = false;
                    adaptiveModeBtn.disabled = false;
                    minLengthOptions.forEach(btn => btn.disabled = false);
                    
                    console.log(`‚úÖ Found: ${domainResult.domain} | Mode: ${currentMode} | Range: ${domainResult.range}`);
                }
                // Si falla, setInterval sigue corriendo cada 50ms
                
            }, CONFIG.DELAY_BETWEEN_CHECKS);
        }

        function stopSearch() {
            appState.searchActive = false;
            if (appState.searchInterval) {
                clearInterval(appState.searchInterval);
                appState.searchInterval = null;
            }
            startBtn.disabled = false;
            stopBtn.disabled = true;
            pureRandomModeBtn.disabled = false;
            adaptiveModeBtn.disabled = false;
            minLengthOptions.forEach(btn => btn.disabled = false);
        }

        function openCurrentLink() {
            if (appState.currentVerifiedUrl) {
                window.open(appState.currentVerifiedUrl, '_blank', 'noopener,noreferrer');
            }
        }

        // ========== INICIALIZACI√ìN ==========
        function initializeApp() {
            // Cargar datos guardados
            const loaded = loadFromLocalStorage();
            
            // Configurar event listeners
            pureRandomModeBtn.addEventListener('click', () => setMode('pureRandom'));
            adaptiveModeBtn.addEventListener('click', () => setMode('adaptive'));
            
            minLengthOptions.forEach(option => {
                option.addEventListener('click', () => {
                    setMinLength(parseInt(option.dataset.min));
                });
            });
            
            // Inicializar display
            updateStatsDisplay();
            updateAdaptiveStatsDisplay();
            
            // Detener b√∫squeda al cerrar p√°gina
            window.addEventListener('beforeunload', () => {
                stopSearch();
                saveToLocalStorage();
            });
            
            // Auto-save cada 30 segundos
            setInterval(saveToLocalStorage, 30000);
            
            console.log('üöÄ Random Web Explorer v6.0 initialized');
            console.log('üíæ localStorage:', loaded ? 'Data loaded' : 'No saved data');
            console.log('‚ö° Speed:', Math.round(1000/CONFIG.DELAY_BETWEEN_CHECKS), 'attempts/sec');
            console.log('üéØ Modes: Pure Random & Adaptive (range-specific learning)');
        }

        // Iniciar aplicaci√≥n
        initializeApp();
    </script>
</body>
</html>