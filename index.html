<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Web</title>
    <meta name="description" content="Discover random websites across the internet. Pure Random and Adaptive modes with intelligent learning algorithms. Find hidden gems online.">
    <meta name="keywords" content="random website, domain finder, web explorer, internet discovery, random link, find random sites">
    <meta name="author" content="Random Web Explorer">
    <link rel="canonical" href="https://randomwe.lat">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== NAVBAR ESTILO MODERNO ===== */
        .navbar {
            width: 100%;
            max-width: 900px;
            background: white;
            border-radius: 15px;
            padding: 15px 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e1e5e9;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .nav-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 700;
            color: #135078;
            text-decoration: none;
        }
        
        .nav-brand i {
            font-size: 1.8rem;
        }
        
        .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .nav-link {
            color: #5d6d7e;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            padding: 8px 15px;
            border-radius: 6px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .nav-link:hover {
            background: #f8f9fa;
            color: #135078;
        }
        
        .nav-link.donate {
            background: linear-gradient(to right, #FF6B6B, #FF8E53);
            color: white;
            padding: 8px 20px;
        }
        
        .nav-link.donate:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #135078;
            cursor: pointer;
        }
        
        /* ===== ESTILO COMPACTO ORIGINAL MEJORADO ===== */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        }
        
        body {
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #f0f2f5;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid #e1e5e9;
            margin-top: 10px;
        }
        
        header { 
            text-align: center; 
            margin-bottom: 30px; 
        }
        
        h1 { 
            font-size: 2.5rem; 
            margin-bottom: 10px; 
            color: #2c3e50;
        }
        
        .tagline {
            font-size: 1.1rem;
            color: #7f8c8d;
            max-width: 900px;
            margin: 0 auto 25px;
            line-height: 1.5;
        }
        
        /* ===== SELECTOR DE MODO Y M√çNIMO ===== */
        .mode-minimum-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-bottom: 25px;
            align-items: center;
        }
        
        .mode-selector {
            display: flex;
            gap: 10px;
        }
        
        .mode-btn {
            padding: 10px 30px;
            border: 2px solid #135078;
            background: white;
            color: #135078;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .mode-btn:hover {
            background: #f8f9fa;
        }
        
        .mode-btn.active {
            background: #135078;
            color: white;
        }
        
        .minimum-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #f8f9fa;
            padding: 8px 15px;
            border-radius: 8px;
            border: 1px solid #e1e5e9;
        }
        
        .minimum-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            font-weight: 600;
        }
        
        .minimum-options {
            display: flex;
            gap: 5px;
        }
        
        .minimum-option {
            padding: 6px 20px;
            border: 1px solid #135078;
            background: white;
            color: #135078;
            border-radius: 5px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .minimum-option:hover {
            background: #f8f9fa;
        }
        
        .minimum-option.active {
            background: #135078;
            color: white;
        }
        
        /* ===== ESTAD√çSTICAS COMPACTAS ===== */
        .stats-bar {
            display: flex;
            justify-content: space-around;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 25px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
        }
        
        .stat-box {
            text-align: center;
            padding: 10px;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
            transition: transform 0.2s;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 5px;
        }
        
        /* ===== ESTAD√çSTICAS ADAPTATIVAS ===== */
        .adaptive-stats {
            display: none;
            flex-wrap: wrap;
            justify-content: space-around;
            padding: 15px;
            margin-bottom: 20px;
            background: #e8f4fc;
            border-radius: 10px;
            border: 1px solid #b3e0ff;
            animation: fadeIn 0.3s;
            gap: 10px;
        }
        
        .adaptive-stats.visible {
            display: flex;
        }
        
        .adaptive-stat {
            text-align: center;
            padding: 5px 15px;
            min-width: 120px;
        }
        
        .adaptive-label {
            font-size: 0.8rem;
            color: #2980b9;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .adaptive-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: #154360;
            font-family: monospace;
        }
        
        .range-label {
            font-size: 0.75rem;
            color: #1a5276;
            margin-top: 3px;
        }
        
        /* ===== CONTROLES ===== */
        .control-panel {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.2s;
            min-width: 250px;
        }
        
        .btn-primary {
            background: #1E874A;
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            background: #27ae60;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
        }
        
        .btn-secondary {
            background: #BF3B2E;
            color: white;
        }
        
        .btn-secondary:hover:not(:disabled) {
            background: #c0392b;
        }
        
        .btn-success {
            background: #135078;
            color: white;
        }
        
        .btn-success:hover:not(:disabled) {
            background: #2980b9;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* ===== PANEL DE ESTADO ===== */
        .status-container {
            background-color: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            border-left: 5px solid #135078;
            transition: all 0.3s;
        }
        
        .status-searching {
            border-left-color: #f39c12;
            background-color: #fff8e1;
        }
        
        .status-found {
            border-left-color: #1E874A;
            background-color: #e8f6f3;
        }
        
        .status-notfound {
            border-left-color: #BF3B2E;
            background-color: #fdedec;
        }
        
        .status-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        
        .status-icon {
            font-size: 1.3rem;
        }
        
        .status-message {
            font-weight: 600;
            font-size: 1.1rem;
            flex: 1;
        }
        
        .current-attempt {
            font-family: 'Courier New', monospace;
            background-color: rgba(0, 0, 0, 0.05);
            padding: 12px;
            border-radius: 6px;
            margin-top: 10px;
            word-break: break-all;
            font-size: 0.95rem;
            border: 1px solid rgba(0, 0, 0, 0.1);
            line-height: 1.5;
        }
        
        /* ===== RESULTADO ===== */
        .result-container {
            background: #e8f6f3;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            border: 2px solid #1E874A;
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .result-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #27ae60;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .verified-link {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2c3e50;
            word-break: break-all;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #bdc3c7;
            transition: all 0.2s;
        }
        
        .verified-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .verified-link a {
            color: #2980b9;
            text-decoration: none;
        }
        
        .verified-link a:hover {
            text-decoration: underline;
        }
        
        /* ===== ADSENSE ADS ===== */
        .ad-container {
            width: 100%;
            text-align: center;
            margin: 25px 0;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            border: 1px dashed #bdc3c7;
        }
        
        .ad-label {
            font-size: 0.8rem;
            color: #7f8c8d;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* ===== FOOTER INFORMATIVO ===== */
        .info-footer {
            margin-top: 40px;
            width: 100%;
            max-width: 900px;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid #e1e5e9;
        }
        
        .info-section {
            margin-bottom: 30px;
        }
        
        .info-section:last-child {
            margin-bottom: 0;
        }
        
        .info-section h3 {
            font-size: 1.3rem;
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #135078;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-section p {
            color: #5d6d7e;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .info-list {
            list-style-type: none;
            padding-left: 0;
        }
        
        .info-list li {
            padding: 8px 0;
            color: #5d6d7e;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .info-list li i {
            color: #135078;
            margin-top: 3px;
        }
        
        /* ===== FOOTER SIMPLE ===== */
        .simple-footer {
            margin-top: 30px;
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid #e1e5e9;
            width: 100%;
            max-width: 900px;
        }
        
        /* ===== ANIMACIONES ===== */
        .pulse { 
            animation: pulse-animation 1.5s infinite; 
        }
        
        @keyframes pulse-animation { 
            0% { opacity: 1; } 
            50% { opacity: 0.5; } 
            100% { opacity: 1; } 
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes statBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .stat-update {
            animation: statBounce 0.3s ease;
        }
        
        /* ===== RESPONSIVE MEJORADO ===== */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
            }
            
            .nav-links {
                flex-direction: column;
                width: 100%;
                display: none;
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-link {
                width: 100%;
                justify-content: center;
                padding: 12px;
            }
            
            .mobile-menu-btn {
                display: block;
                position: absolute;
                right: 25px;
                top: 20px;
            }
            
            .container { 
                padding: 15px; 
                border-radius: 15px;
                margin-top: 0;
            }
            
            h1 { 
                font-size: 2rem; 
            }
            
            .mode-minimum-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .mode-selector, .minimum-selector {
                width: 100%;
                justify-content: center;
            }
            
            .mode-btn, .minimum-option {
                flex: 1;
                text-align: center;
                justify-content: center;
            }
            
            .control-panel { 
                flex-direction: column; 
                align-items: center; 
                width: 100%;
            }
            
            .btn { 
                width: 100%; 
                max-width: 100%; 
                padding: 16px;
            }
            
            .stats-bar, .adaptive-stats { 
                flex-direction: column; 
                gap: 15px; 
            }
            
            .stat-box, .adaptive-stat {
                width: 100%;
            }
            
            .verified-link { 
                font-size: 1.1rem; 
                padding: 12px; 
            }
            
            .info-footer {
                padding: 20px;
                margin-top: 20px;
            }
            
            .info-section h3 {
                font-size: 1.1rem;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            h1 { 
                font-size: 1.8rem; 
            }
            
            .stat-value {
                font-size: 1.8rem;
            }
            
            .adaptive-value {
                font-size: 1.2rem;
            }
            
            .btn {
                padding: 14px;
                font-size: 1rem;
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <button class="mobile-menu-btn" id="mobileMenuBtn">
            <i class="fas fa-bars"></i>
        </button>
        
        <div class="nav-links" id="navLinks">
            <a href="#introduction" class="nav-link">
                <i class="fas fa-info-circle"></i> Introduction
            </a>
            <a href="#how-it-works" class="nav-link">
                <i class="fas fa-cogs"></i> How It Works
            </a>
            <a href="#faq" class="nav-link">
                <i class="fas fa-question-circle"></i> FAQ
            </a>
            <a href="privacy.html" class="nav-link">
                <i class="fas fa-shield-alt"></i> Privacy
            </a>
            <a href="terms.html" class="nav-link">
                <i class="fas fa-file-contract"></i> Terms
            </a>
            <a href="https://paypal.me/MiguelSaucedo726" target="_blank" class="nav-link donate">
                <i class="fas fa-heart"></i> Donate
            </a>
        </div>
    </nav>

    <div class="container">
        <header>       
            <!-- <div class="ad-container">
                <div>
                    <div class="ad-label">Advertisement</div>
                    Aqu√≠ ir√≠a el c√≥digo de Adsense 
                    <div style="color: #95a5a6; font-size: 0.9rem;">Ad placeholder - Adsense enabled</div>
                </div>
            </div> -->

            <h1>Discover Random Websites</h1>
            <p class="tagline">Explore the hidden corners of the internet. Use Pure Random mode for unpredictability or Adaptive mode for intelligent discovery.</p>
        </header>
        
        <!-- Selector de modo y m√≠nimo -->
        <div class="mode-minimum-container">
            <div class="mode-selector">
                <button class="mode-btn active" id="pureRandomModeBtn">
                    <i class="fas fa-dice"></i> Pure Random
                </button>
                <button class="mode-btn" id="adaptiveModeBtn">
                    <i class="fas fa-brain"></i> Adaptive
                </button>
            </div>
            
            <div class="minimum-selector">
                <div class="minimum-label">Min Length:</div>
                <div class="minimum-options">
                    <button class="minimum-option active" data-min="2">2-12</button>
                    <button class="minimum-option" data-min="5">5-12</button>
                    <button class="minimum-option" data-min="9">9-12</button>
                </div>
            </div>
        </div>
        
        <!-- Estad√≠sticas principales -->
        <div class="stats-bar">
            <div class="stat-box">
                <div class="stat-value" id="totalAttempts">0</div>
                <div class="stat-label">Total Attempts</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="foundCount">0</div>
                <div class="stat-label">Sites Found</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="successRate">0%</div>
                <div class="stat-label">Success Rate</div>
            </div>
        </div>
        
        <!-- Estad√≠sticas adaptativas -->
        <div class="adaptive-stats" id="adaptiveStats">
            <div class="adaptive-stat">
                <div class="adaptive-label">CV Family</div>
                <div class="adaptive-value" id="cvFamilyScore">50%</div>
                <div class="range-label" id="cvRangeLabel">All ranges</div>
            </div>
            <div class="adaptive-stat">
                <div class="adaptive-label">VC Family</div>
                <div class="adaptive-value" id="vcFamilyScore">50%</div>
                <div class="range-label" id="vcRangeLabel">All ranges</div>
            </div>
            <div class="adaptive-stat">
                <div class="adaptive-label">Best Pattern</div>
                <div class="adaptive-value" id="bestMutation">CVCV</div>
                <div class="range-label" id="bestPatternRange">Current range</div>
            </div> 
        </div>



        <!-- Controles -->
        <div class="control-panel">
            <button class="btn btn-primary" onclick="startSearch()" id="startBtn">
                <i class="fas fa-search"></i> Start Discovery
            </button>
            <button class="btn btn-secondary" onclick="stopSearch()" id="stopBtn" disabled>
                <i class="fas fa-stop"></i> Stop Search
            </button>
            <button class="btn btn-success" onclick="openCurrentLink()" id="openBtn" disabled>
                <i class="fas fa-external-link-alt"></i> Open Found Site
            </button>
        </div>

        
        <!-- Panel de estado -->
        <div class="status-container" id="statusContainer">
            <div class="status-header">
                <i class="fas fa-info-circle status-icon" id="statusIcon"></i>
                <div class="status-message" id="statusMessage">Ready. Pure Random mode (2-12 chars).</div>
            </div>
            <div class="current-attempt" id="currentAttempt">
                Click "Start Discovery" to begin.
            </div>
        </div>
        
        <!-- Resultado -->
        <div class="result-container" id="resultContainer">
            <div class="result-title"><i class="fas fa-trophy"></i> Discovery Successful!</div>
            <div>Your verified random website is:</div>
            <div class="verified-link" id="verifiedLinkDisplay"></div>
            <p>Click the button above to open it in a new tab, or copy the URL.</p>
        </div>
        
        <!-- AdSense Ad Bottom 
        <div class="ad-container">
            <div>
                <div class="ad-label">Advertisement</div>
                
                <div style="color: #95a5a6; font-size: 0.9rem;">Ad placeholder - Adsense enabled</div>
            </div>
        </div>-->
    </div>
    
    <!-- Footer Informativo -->
    <div class="info-footer">

      <div class="info-section" id="introduction">
        <h3><i class="fas fa-info-circle"></i> What is Random Web Explorer?</h3>
        <p>
          Random Web Explorer is an experimental web tool designed to discover random, publicly accessible websites
          across the internet. It generates domain names automatically and checks whether they exist in real time.
        </p>
        <p>
          The goal is exploration, curiosity, and digital discovery ‚Äî revealing websites that are rarely found
          through traditional search engines.
        </p>
      </div>

      <div class="info-section" id="how-it-works">
        <h3><i class="fas fa-cogs"></i> How It Works</h3>
        <ul class="info-list">
          <li><i class="fas fa-dice"></i> <strong>Pure Random Mode:</strong> Generates fully random domain names (2‚Äì12 characters).</li>
          <li><i class="fas fa-brain"></i> <strong>Adaptive Mode:</strong> Learns which character patterns are more likely to exist.</li>
          <li><i class="fas fa-globe"></i> <strong>Live Verification:</strong> Tests domains by checking public resources like favicons.</li>
          <li><i class="fas fa-user-shield"></i> <strong>No Tracking:</strong> No accounts, no cookies, no servers collecting data.</li>
        </ul>
      </div>

      <div class="info-section" id="faq">
        <h3><i class="fas fa-question-circle"></i> Frequently Asked Questions</h3>
        <ul class="info-list">
          <li><i class="fas fa-check"></i> <strong>Is this safe?</strong> Yes. Only publicly available websites are checked.</li>
          <li><i class="fas fa-scale-balanced"></i> <strong>Is this legal?</strong> Yes. No hacking, scraping, or restricted access.</li>
          <li><i class="fas fa-clock"></i> <strong>How fast is it?</strong> Dozens of attempts per second, depending on your device.</li>
          <li><i class="fas fa-mobile-alt"></i> <strong>Mobile friendly?</strong> Fully responsive on all devices.</li>
          <li><i class="fas fa-database"></i> <strong>Is data stored?</strong> Only locally in your browser (localStorage).</li>
        </ul>
      </div>

      <div class="info-section">
        <h3><i class="fas fa-handshake"></i> Support & Transparency</h3>
        <p>
          Random Web Explorer is an independent, experimental project. It does not host, control, or endorse
          any external websites that may be discovered.
        </p>
        <ul class="info-list">
          <li><i class="fas fa-heart"></i> <strong>Donate:</strong> <a href="https://paypal.me/MiguelSaucedo726" target="_blank">Support development</a></li>
          <li><i class="fas fa-share"></i> <strong>Share:</strong> Help others discover the project</li>
          <li><i class="fas fa-envelope"></i> <strong>Contact:</strong>  info.randomwe@gmail.com </li>
        </ul>
      </div>

    </div>

    <!-- Footer Legal -->
    <footer class="simple-footer">
      <p>
        ¬© Random Web Explorer ¬∑ Experimental Web Discovery Tool
      </p>
      <p style="margin-top: 8px; font-size: 0.8rem;">
        <a href="privacy.html">Privacy Policy</a> ¬∑
        <a href="terms.html">Terms of Service</a>
      </p>
      <p style="margin-top: 6px; font-size: 0.75rem; color: #95a5a6;">
        This website does not guarantee the safety, content, or availability of external websites.
        Users visit discovered sites at their own discretion.
      </p>
    </footer>


    <script>
               // ========== NAVBAR MOBILE FUNCTIONALITY MEJORADO ==========
            // NAVBAR MOBILE - VERSI√ìN SIMPLIFICADA
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');

        // Solo funciona en m√≥vil
        function toggleMobileMenu() {
            if (window.innerWidth <= 768) {
                navLinks.classList.toggle('active');
                const isActive = navLinks.classList.contains('active');
                
                // Cambiar √≠cono
                mobileMenuBtn.innerHTML = isActive 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
                
                // Prevenir scroll cuando el men√∫ est√° abierto
                document.body.style.overflow = isActive ? 'hidden' : '';
            }
        }

        // Event listener
        mobileMenuBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            toggleMobileMenu();
        });

        // Cerrar men√∫ al hacer clic en enlace (solo m√≥vil)
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768 && navLinks.classList.contains('active')) {
                    navLinks.classList.remove('active');
                    mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                    document.body.style.overflow = '';
                }
            });
        });

        // Cerrar men√∫ al hacer clic fuera (solo m√≥vil)
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768 && navLinks.classList.contains('active')) {
                const isClickOnNavbar = e.target.closest('.navbar');
                
                if (!isClickOnNavbar) {
                    navLinks.classList.remove('active');
                    mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                    document.body.style.overflow = '';
                }
            }
        });

        // Resetear al cambiar tama√±o de ventana
        window.addEventListener('resize', () => {
            // Si cambia a desktop, resetear
            if (window.innerWidth > 768) {
                navLinks.classList.remove('active');
                mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                document.body.style.overflow = '';
            }
        });

        // ========== CONFIGURACI√ìN MEJORADA SIN RESET AGRESIVO ==========
        const CONFIG = {
            MAX_CHARS: 12,
            MAX_ATTEMPTS: 500,
            CHECK_TIMEOUT: 2500,
            DELAY_BETWEEN_CHECKS: 50,
            TLDs: ['.com', '.net', '.org', '.info', '.biz', '.io'],
            ADAPTIVE: {
                FAMILIES: ['CV', 'VC'],
                BASE_PATTERNS: { 'CV': 'CVCV', 'VC': 'VCVC' },
                MUTATION_RATE: 0.3,
                LEARNING_RATE: 0.15,
                FORGET_RATE: 0.01,
                MIN_SCORE: 0.1,
                MAX_SCORE: 0.9,
                EXPLORATION_RATE: 0.08,
                PATTERN_DECAY: 0.95,
                STAGNATION_THRESHOLD: 200,
                CONFIDENCE_RESET: 0.3
            }
        };

        // ========== CARACTERES PARA GENERACI√ìN ==========
        const allChars = 'abcdefghijklmnopqrstuvwxyz0123456789';
        const vowels = 'aeiou';
        const consonants = 'bcdfghjklmnpqrstvwxyz';

        // ========== ESTADO MEJORADO CON "MEMORIA A LARGO PLAZO" ==========
        let currentMode = 'pureRandom';
        let currentMinLength = 2;
        let appState = {
            searchActive: false,
            searchInterval: null,
            currentVerifiedUrl: '',
            stats: {
                totalAttempts: 0,
                foundCount: 0,
                currentSessionAttempts: 0,
                sessionStartTime: Date.now(),
                currentStreak: 0,
                bestStreak: 0
            },
            adaptiveState: {
                // MEMORIA A LARGO PLAZO (persistente)
                longTermMemory: {
                    '2-4': { 
                        familyScores: { 'CV': 0.5, 'VC': 0.5 }, 
                        successfulPatterns: {},
                        patternConfidence: {},
                        lastUpdated: Date.now()
                    },
                    '5-8': { 
                        familyScores: { 'CV': 0.5, 'VC': 0.5 }, 
                        successfulPatterns: {},
                        patternConfidence: {},
                        lastUpdated: Date.now()
                    },
                    '9-12': { 
                        familyScores: { 'CV': 0.5, 'VC': 0.5 }, 
                        successfulPatterns: {},
                        patternConfidence: {},
                        lastUpdated: Date.now()
                    }
                },
                // MEMORIA A CORTO PLAZO (solo esta sesi√≥n)
                shortTermMemory: {
                    currentRange: null,
                    currentFamily: null,
                    currentPattern: null,
                    recentFailures: 0,
                    recentSuccesses: 0,
                    attemptedPatterns: [],
                    sessionPatterns: {}
                },
                // ESTAD√çSTICAS GLOBALES
                globalStats: {
                    totalSuccesses: 0,
                    totalFailures: 0,
                    successRateByHour: {},
                    lastDomainFound: null
                }
            }
        };

        // ========== LOCALSTORAGE FUNCTIONS ==========
        const STORAGE_KEY = 'randomWebExplorerData';

        function saveToLocalStorage() {
            const dataToSave = {
                stats: appState.stats,
                adaptiveState: appState.adaptiveState,
                savedAt: new Date().toISOString()
            };
            localStorage.setItem(STORAGE_KEY, JSON.stringify(dataToSave));
        }

        function loadFromLocalStorage() {
            const savedData = localStorage.getItem(STORAGE_KEY);
            if (savedData) {
                try {
                    const parsed = JSON.parse(savedData);
                    
                    // Cargar estad√≠sticas
                    if (parsed.stats) {
                        appState.stats.totalAttempts = parsed.stats.totalAttempts || 0;
                        appState.stats.foundCount = parsed.stats.foundCount || 0;
                    }
                    
                    // Cargar estado adaptativo
                    if (parsed.adaptiveState && parsed.adaptiveState.longTermMemory) {
                        // Cargar memoria a largo plazo
                        Object.keys(appState.adaptiveState.longTermMemory).forEach(range => {
                            if (parsed.adaptiveState.longTermMemory[range]) {
                                appState.adaptiveState.longTermMemory[range] = {
                                    ...appState.adaptiveState.longTermMemory[range],
                                    ...parsed.adaptiveState.longTermMemory[range]
                                };
                            }
                        });
                        
                        // Cargar estad√≠sticas globales
                        if (parsed.adaptiveState.globalStats) {
                            appState.adaptiveState.globalStats = parsed.adaptiveState.globalStats;
                        }
                    }
                    
                    console.log('‚úÖ Loaded saved data from localStorage');
                    return true;
                } catch (e) {
                    console.error('‚ùå Error loading from localStorage:', e);
                    return false;
                }
            }
            return false;
        }

        // ========== ELEMENTOS DOM ==========
        const pureRandomModeBtn = document.getElementById('pureRandomModeBtn');
        const adaptiveModeBtn = document.getElementById('adaptiveModeBtn');
        const minLengthOptions = document.querySelectorAll('.minimum-option');
        const adaptiveStats = document.getElementById('adaptiveStats');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const openBtn = document.getElementById('openBtn');
        const statusContainer = document.getElementById('statusContainer');
        const statusIcon = document.getElementById('statusIcon');
        const statusMessage = document.getElementById('statusMessage');
        const currentAttemptEl = document.getElementById('currentAttempt');
        const resultContainer = document.getElementById('resultContainer');
        const verifiedLinkDisplay = document.getElementById('verifiedLinkDisplay');
        const totalAttemptsEl = document.getElementById('totalAttempts');
        const foundCountEl = document.getElementById('foundCount');
        const successRateEl = document.getElementById('successRate');
        const cvFamilyScoreEl = document.getElementById('cvFamilyScore');
        const vcFamilyScoreEl = document.getElementById('vcFamilyScore');
        const bestMutationEl = document.getElementById('bestMutation');
        const cvRangeLabel = document.getElementById('cvRangeLabel');
        const vcRangeLabel = document.getElementById('vcRangeLabel');
        const bestPatternRange = document.getElementById('bestPatternRange');

        // ========== FUNCIONES AUXILIARES ==========
        function getCurrentRange(length) {
            if (length >= 2 && length <= 4) return '2-4';
            if (length >= 5 && length <= 8) return '5-8';
            return '9-12';
        }

        function getActiveRange() {
            if (currentMinLength >= 9) return '9-12';
            if (currentMinLength >= 5) return '5-8';
            return '2-4';
        }

        function getRandomLength() {
            const min = currentMinLength;
            const max = CONFIG.MAX_CHARS;
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // ========== INICIALIZACI√ìN DE MODO ==========
        function setMode(mode) {
            currentMode = mode;
            
            // Actualizar botones
            pureRandomModeBtn.classList.toggle('active', mode === 'pureRandom');
            adaptiveModeBtn.classList.toggle('active', mode === 'adaptive');
            
            // Mostrar/ocultar estad√≠sticas adaptativas
            adaptiveStats.classList.toggle('visible', mode === 'adaptive');
            
            // Actualizar estad√≠sticas adaptativas si es necesario
            if (mode === 'adaptive') {
                updateAdaptiveStatsDisplay();
            }
            
            // Actualizar estado
            const rangeLabel = currentMinLength === 2 ? '2-12' : 
                             currentMinLength === 5 ? '5-12' : '9-12';
            
            setStatus('ready', 
                mode === 'pureRandom' 
                    ? `Pure Random mode selected (${rangeLabel} chars)` 
                    : `Adaptive mode selected (${rangeLabel} chars)`,
                mode === 'pureRandom'
                    ? 'Generating completely random domains'
                    : 'Learning optimal patterns for current length range'
            );
        }

        function setMinLength(min) {
            currentMinLength = min;
            
            // Actualizar botones
            minLengthOptions.forEach(option => {
                option.classList.toggle('active', parseInt(option.dataset.min) === min);
            });
            
            // Actualizar display adaptativo
            if (currentMode === 'adaptive') {
                updateAdaptiveStatsDisplay();
            }
            
            // Actualizar estado
            const rangeLabel = min === 2 ? '2-12' : 
                             min === 5 ? '5-12' : '9-12';
            
            setStatus('ready', 
                currentMode === 'pureRandom' 
                    ? `Pure Random mode (${rangeLabel} chars)` 
                    : `Adaptive mode (${rangeLabel} chars)`,
                `Minimum length set to ${min} characters`
            );
        }

        // ========== ACTUALIZACI√ìN DE INTERFAZ ==========
        function updateStatsDisplay() {
            // Actualizar valores
            totalAttemptsEl.textContent = appState.stats.totalAttempts;
            foundCountEl.textContent = appState.stats.foundCount;
            
            // Calcular tasa de √©xito
            const rate = appState.stats.totalAttempts > 0 
                ? ((appState.stats.foundCount / appState.stats.totalAttempts) * 100).toFixed(2)
                : 0;
            successRateEl.textContent = `${rate}%`;
            
            // Animaci√≥n
            [totalAttemptsEl, foundCountEl, successRateEl].forEach(el => {
                el.classList.remove('stat-update');
                void el.offsetWidth;
                el.classList.add('stat-update');
            });
            
            // Guardar en localStorage
            saveToLocalStorage();
        }

        function updateAdaptiveStatsDisplay() {
            const activeRange = getActiveRange();
            const longTerm = appState.adaptiveState.longTermMemory[activeRange];
            
            if (longTerm) {
                const cvScore = Math.round(longTerm.familyScores['CV'] * 100);
                const vcScore = Math.round(longTerm.familyScores['VC'] * 100);
                
                cvFamilyScoreEl.textContent = `${cvScore}%`;
                vcFamilyScoreEl.textContent = `${vcScore}%`;
                
                // Encontrar el mejor patr√≥n (basado en confianza)
                const patterns = Object.keys(longTerm.patternConfidence);
                if (patterns.length > 0) {
                    const bestPattern = patterns.reduce((a, b) => 
                        longTerm.patternConfidence[a] > longTerm.patternConfidence[b] ? a : b
                    );
                    bestMutationEl.textContent = bestPattern || 'CVCV';
                } else {
                    bestMutationEl.textContent = 'CVCV';
                }
                
                // Actualizar labels de rango
                cvRangeLabel.textContent = activeRange;
                vcRangeLabel.textContent = activeRange;
                bestPatternRange.textContent = activeRange;
            }
        }

        function setStatus(type, message, attemptText = '') {
            statusContainer.className = 'status-container';
            if (type !== 'ready') {
                statusContainer.classList.add(`status-${type}`);
            }
            
            const icons = {
                searching: 'fas fa-sync-alt pulse',
                found: 'fas fa-check-circle',
                notfound: 'fas fa-exclamation-triangle',
                ready: 'fas fa-info-circle'
            };
            statusIcon.className = `status-icon ${icons[type] || icons.ready}`;
            
            statusMessage.textContent = message;
            currentAttemptEl.textContent = attemptText;
        }

        // ========== GENERADORES DE DOMINIO ==========
        function getPureRandomDomain() {
            const length = getRandomLength();
            let domain = '';
            
            for (let i = 0; i < length; i++) {
                domain += allChars.charAt(Math.floor(Math.random() * allChars.length));
            }
            
            const tld = CONFIG.TLDs[Math.floor(Math.random() * CONFIG.TLDs.length)];
            return { 
                domain: domain + tld, 
                length: length,
                method: 'Pure Random',
                pattern: 'N/A',
                range: getCurrentRange(length)
            };
        }

        // ========== FUNCIONES DE MUTACI√ìN ==========
        function applyRandomMutation(basePattern, length) {
            const patternChars = basePattern.split('');
            const mutationPos = Math.floor(Math.random() * Math.min(patternChars.length, length));
            const mutationType = Math.random();
            
            if (mutationType < 0.33 && patternChars.length > 2) {
                patternChars.splice(mutationPos, 1);
            } else if (mutationType < 0.66 && patternChars.length < 6) {
                const newChar = Math.random() < 0.5 ? 'C' : 'V';
                patternChars.splice(mutationPos, 0, newChar);
            } else {
                patternChars[mutationPos] = patternChars[mutationPos] === 'C' ? 'V' : 'C';
            }
            
            return patternChars.join('');
        }

        function applySmartMutation(basePattern, length, successfulPatterns) {
            let pattern = basePattern;
            const mutationType = Math.random();
            
            if (mutationType < 0.4 && pattern.length > 2) {
                // Eliminar car√°cter (pero no si ese patr√≥n ha sido exitoso)
                const pos = Math.floor(Math.random() * pattern.length);
                const testPattern = pattern.slice(0, pos) + pattern.slice(pos + 1);
                if (!successfulPatterns[testPattern] || successfulPatterns[testPattern] < 2) {
                    pattern = testPattern;
                }
            } else if (mutationType < 0.7 && pattern.length < 6) {
                // Insertar car√°cter (basado en patrones exitosos)
                const pos = Math.floor(Math.random() * pattern.length);
                const newChar = Math.random() < 0.5 ? 'C' : 'V';
                
                // Verificar si este patr√≥n expandido ha sido exitoso
                const testPattern = pattern.slice(0, pos) + newChar + pattern.slice(pos);
                if (!successfulPatterns[testPattern] || successfulPatterns[testPattern] < 2) {
                    pattern = testPattern;
                }
            } else {
                // Cambiar car√°cter
                const pos = Math.floor(Math.random() * pattern.length);
                const chars = pattern.split('');
                chars[pos] = chars[pos] === 'C' ? 'V' : 'C';
                pattern = chars.join('');
            }
            
            return pattern;
        }

        // ========== MODO EXPLORATORIO ==========
        function getExploratoryDomain(length, range) {
            console.log(`üåç Exploratory mode for range ${range}`);
            
            // Generar algo completamente diferente
            let domain = '';
            const patternTypes = ['CVCV', 'VCVC', 'CVCVC', 'VCVCV', 'CCVV', 'VVCC'];
            const pattern = patternTypes[Math.floor(Math.random() * patternTypes.length)];
            
            for (let i = 0; i < length; i++) {
                const patternIndex = i % pattern.length;
                const charType = pattern[patternIndex];
                
                switch(charType) {
                    case 'C':
                        domain += consonants.charAt(Math.floor(Math.random() * consonants.length));
                        break;
                    case 'V':
                        domain += vowels.charAt(Math.floor(Math.random() * vowels.length));
                        break;
                    default:
                        domain += allChars.charAt(Math.floor(Math.random() * allChars.length));
                }
            }
            
            const tld = CONFIG.TLDs[Math.floor(Math.random() * CONFIG.TLDs.length)];
            
            return { 
                domain: domain + tld, 
                length: length,
                method: 'Exploratory',
                pattern: pattern,
                family: pattern.startsWith('C') ? 'CV' : 'VC',
                range: range
            };
        }

        // ========== GENERADOR ADAPTATIVO MEJORADO ==========
        function getAdaptiveDomain() {
            const length = getRandomLength();
            const currentRange = getCurrentRange(length);
            const longTerm = appState.adaptiveState.longTermMemory[currentRange];
            const shortTerm = appState.adaptiveState.shortTermMemory;
            
            // Actualizar memoria a corto plazo
            shortTerm.currentRange = currentRange;
            
            // Verificar si necesitamos ajustar por estancamiento
            if (shortTerm.recentFailures > CONFIG.ADAPTIVE.STAGNATION_THRESHOLD / 2) {
                const shouldExplore = adjustAdaptiveForStagnation();
                if (shouldExplore) {
                    // Forzar exploraci√≥n diversa
                    return getExploratoryDomain(length, currentRange);
                }
            }
            
            // 1. DECIDIR FAMILIA (usando memoria a largo plazo + exploraci√≥n)
            let selectedFamily;
            const explorationChance = CONFIG.ADAPTIVE.EXPLORATION_RATE + 
                (shortTerm.recentFailures / 100); // M√°s exploraci√≥n si hay muchos fallos
            
            if (Math.random() < explorationChance) {
                // Exploraci√≥n: elegir aleatoriamente
                selectedFamily = Math.random() < 0.5 ? 'CV' : 'VC';
                console.log(`üé≤ Exploration mode: ${selectedFamily} family`);
            } else {
                // Explotaci√≥n: usar lo aprendido
                const cvScore = longTerm.familyScores['CV'];
                const vcScore = longTerm.familyScores['VC'];
                const total = cvScore + vcScore;
                const cvProb = cvScore / total;
                selectedFamily = Math.random() < cvProb ? 'CV' : 'VC';
            }
            
            shortTerm.currentFamily = selectedFamily;
            
            // 2. DECIDIR PATR√ìN (usando patrones exitosos aprendidos)
            let pattern;
            const successfulPatterns = Object.keys(longTerm.successfulPatterns);
            
            if (successfulPatterns.length > 0 && Math.random() < 0.7) {
                // Usar un patr√≥n exitoso (ponderado por confianza)
                const patternsWithConfidence = successfulPatterns.map(p => ({
                    pattern: p,
                    confidence: longTerm.patternConfidence[p] || 0.5,
                    count: longTerm.successfulPatterns[p] || 1
                }));
                
                // Ordenar por confianza
                patternsWithConfidence.sort((a, b) => b.confidence - a.confidence);
                
                // Tomar uno de los mejores patrones
                const topPatterns = patternsWithConfidence.slice(0, 3);
                const selected = topPatterns[Math.floor(Math.random() * topPatterns.length)];
                pattern = selected.pattern;
                
                console.log(`üìê Using learned pattern: ${pattern} (conf: ${(selected.confidence*100).toFixed(1)}%)`);
            } else {
                // Usar patr√≥n base o crear uno nuevo
                pattern = CONFIG.ADAPTIVE.BASE_PATTERNS[selectedFamily];
                
                // Aplicar mutaci√≥n inteligente (basada en confianza)
                const mutationRate = CONFIG.ADAPTIVE.MUTATION_RATE * 
                    (1 - (longTerm.patternConfidence[pattern] || 0)); // Mutar m√°s si poca confianza
                
                if (Math.random() < mutationRate && length >= 3) {
                    pattern = applySmartMutation(pattern, length, longTerm.successfulPatterns);
                    console.log(`üß¨ Mutated pattern: ${pattern}`);
                }
            }
            
            shortTerm.currentPattern = pattern;
            
            // 3. GENERAR DOMINIO
            let domain = '';
            for (let i = 0; i < length; i++) {
                const patternIndex = i % pattern.length;
                const charType = pattern[patternIndex];
                
                switch(charType) {
                    case 'C':
                        domain += consonants.charAt(Math.floor(Math.random() * consonants.length));
                        break;
                    case 'V':
                        domain += vowels.charAt(Math.floor(Math.random() * vowels.length));
                        break;
                    default:
                        domain += allChars.charAt(Math.floor(Math.random() * allChars.length));
                }
            }
            
            const tld = CONFIG.TLDs[Math.floor(Math.random() * CONFIG.TLDs.length)];
            
            // Guardar en memoria a corto plazo
            if (!shortTerm.sessionPatterns[pattern]) {
                shortTerm.sessionPatterns[pattern] = 0;
            }
            shortTerm.sessionPatterns[pattern]++;
            
            return { 
                domain: domain + tld, 
                length: length,
                method: 'Adaptive',
                pattern: pattern,
                family: selectedFamily,
                range: currentRange
            };
        }

        // ========== M√âTODO DE VERIFICACI√ìN ==========
        function testUrl(domain) {
            return new Promise((resolve) => {
                const timeoutId = setTimeout(() => {
                    cleanup();
                    resolve(false);
                }, CONFIG.CHECK_TIMEOUT);
                
                const img = new Image();
                
                // Funci√≥n de limpieza
                function cleanup() {
                    img.onload = null;
                    img.onerror = null;
                    img.src = '';
                    clearTimeout(timeoutId);
                }
                
                img.onload = () => { 
                    cleanup();
                    resolve(true); 
                };
                
                img.onerror = () => { 
                    cleanup();
                    resolve(false); 
                };
                
                // Forzar carga (con timestamp √∫nico para evitar cache)
                img.src = `https://${domain}/favicon.ico?t=${Date.now()}`;
                
                // Timeout adicional para prevenir im√°genes eternamente cargando
                setTimeout(() => {
                    if (img.complete === false) {
                        cleanup();
                        resolve(false);
                    }
                }, CONFIG.CHECK_TIMEOUT + 1000);
            });
        }

        // ========== SISTEMA DE APRENDIZAJE MEJORADO ==========
        function updateAdaptiveLearning(success, domainResult) {
            if (!success || currentMode !== 'adaptive' || !domainResult.family || !domainResult.range) return;
            
            const config = CONFIG.ADAPTIVE;
            const family = domainResult.family;
            const range = domainResult.range;
            const longTerm = appState.adaptiveState.longTermMemory[range];
            const shortTerm = appState.adaptiveState.shortTermMemory;
            
            if (!longTerm) return;
            
            // ACTUALIZAR MEMORIA A LARGO PLAZO (aprendizaje permanente)
            
            // 1. Ajustar scores de familia (aprendizaje principal)
            const adjustment = config.LEARNING_RATE * 
                (1 - Math.abs(longTerm.familyScores[family] - 0.7)); // Aprende m√°s r√°pido si est√° cerca del √≥ptimo
            
            longTerm.familyScores[family] += adjustment;
            longTerm.familyScores[family] = Math.max(
                config.MIN_SCORE,
                Math.min(config.MAX_SCORE, longTerm.familyScores[family])
            );
            
            // Balancear suavemente la otra familia
            const otherFamily = family === 'CV' ? 'VC' : 'CV';
            longTerm.familyScores[otherFamily] -= adjustment * 0.2;
            longTerm.familyScores[otherFamily] = Math.max(
                config.MIN_SCORE,
                longTerm.familyScores[otherFamily]
            );
            
            // 2. Guardar patrones exitosos
            if (domainResult.pattern && domainResult.pattern !== 'N/A') {
                const pattern = domainResult.pattern;
                
                if (!longTerm.successfulPatterns[pattern]) {
                    longTerm.successfulPatterns[pattern] = 0;
                }
                longTerm.successfulPatterns[pattern] += 1;
                
                // Aumentar confianza en este patr√≥n
                if (!longTerm.patternConfidence[pattern]) {
                    longTerm.patternConfidence[pattern] = 0.5;
                }
                longTerm.patternConfidence[pattern] = Math.min(
                    0.95, // M√°xima confianza
                    longTerm.patternConfidence[pattern] + 0.1
                );
                
                console.log(`üíæ Learned pattern: ${pattern} (confidence: ${(longTerm.patternConfidence[pattern]*100).toFixed(1)}%)`);
            }
            
            // 3. Actualizar timestamp
            longTerm.lastUpdated = Date.now();
            
            // ACTUALIZAR MEMORIA A CORTO PLAZO
            shortTerm.recentSuccesses++;
            shortTerm.recentFailures = 0;
            
            if (domainResult.pattern) {
                shortTerm.attemptedPatterns.push(domainResult.pattern);
                // Mantener solo los √∫ltimos 50 patrones intentados
                if (shortTerm.attemptedPatterns.length > 50) {
                    shortTerm.attemptedPatterns.shift();
                }
            }
            
            // ACTUALIZAR ESTAD√çSTICAS GLOBALES
            appState.adaptiveState.globalStats.totalSuccesses++;
            appState.adaptiveState.globalStats.lastDomainFound = domainResult.domain;
            
            // Guardar hora del √©xito (para detectar patrones temporales)
            const hour = new Date().getHours();
            if (!appState.adaptiveState.globalStats.successRateByHour[hour]) {
                appState.adaptiveState.globalStats.successRateByHour[hour] = 0;
            }
            appState.adaptiveState.globalStats.successRateByHour[hour]++;
            
            updateAdaptiveStatsDisplay();
            saveToLocalStorage();
        }

        // ========== SISTEMA DE "OLVIDO" GRADUAL Y REAJUSTE ==========
        function adjustAdaptiveForStagnation() {
            const config = CONFIG.ADAPTIVE;
            const shortTerm = appState.adaptiveState.shortTermMemory;
            
            // Solo ajustar si hay estancamiento real
            if (shortTerm.recentFailures > config.STAGNATION_THRESHOLD) {
                console.log(`‚ö†Ô∏è Stagnation detected: ${shortTerm.recentFailures} failures`);
                
                const currentRange = shortTerm.currentRange;
                if (!currentRange) return;
                
                const longTerm = appState.adaptiveState.longTermMemory[currentRange];
                if (!longTerm) return;
                
                // EN LUGAR DE RESETEAR: Reducir confianza en patrones recientes
                Object.keys(longTerm.patternConfidence).forEach(pattern => {
                    // Reducir confianza gradualmente
                    longTerm.patternConfidence[pattern] *= config.CONFIDENCE_RESET;
                    if (longTerm.patternConfidence[pattern] < 0.1) {
                        delete longTerm.patternConfidence[pattern];
                        delete longTerm.successfulPatterns[pattern];
                    }
                });
                
                // Aumentar tasa de exploraci√≥n temporalmente
                shortTerm.recentFailures = Math.floor(shortTerm.recentFailures / 2);
                
                // Aplicar "olvido" gradual a los scores
                longTerm.familyScores['CV'] = 0.4 + (Math.random() * 0.2);
                longTerm.familyScores['VC'] = 1 - longTerm.familyScores['CV'];
                
                console.log(`üîÑ Adjusted confidence for range ${currentRange}`);
                return true;
            }
            
            return false;
        }

        // ========== ACTUALIZAR MANEJO DE FALLOS ==========
        function handleAdaptiveFailure(domainResult) {
            const shortTerm = appState.adaptiveState.shortTermMemory;
            const range = domainResult.range;
            
            if (!range) return;
            
            // Actualizar contador de fallos recientes
            shortTerm.recentFailures++;
            shortTerm.recentSuccesses = 0;
            
            // OLVIDO GRADUAL (no reset)
            const longTerm = appState.adaptiveState.longTermMemory[range];
            if (longTerm && domainResult.pattern) {
                // Reducir ligeramente la confianza en este patr√≥n
                const pattern = domainResult.pattern;
                if (longTerm.patternConfidence[pattern]) {
                    longTerm.patternConfidence[pattern] *= CONFIG.ADAPTIVE.PATTERN_DECAY;
                    if (longTerm.patternConfidence[pattern] < 0.1) {
                        delete longTerm.patternConfidence[pattern];
                        delete longTerm.successfulPatterns[pattern];
                        console.log(`üßπ Forgot pattern: ${pattern} (confidence too low)`);
                    }
                }
                
                // Aplicar "olvido" gradual a los scores
                longTerm.familyScores[domainResult.family] *= 0.99;
                const otherFamily = domainResult.family === 'CV' ? 'VC' : 'CV';
                longTerm.familyScores[otherFamily] = 1 - longTerm.familyScores[domainResult.family];
            }
            
            appState.adaptiveState.globalStats.totalFailures++;
            
            // Auto-guardar cada 50 fallos
            if (shortTerm.recentFailures % 50 === 0) {
                saveToLocalStorage();
            }
        }

        // ========== FUNCI√ìN DE "SESSION RESET" (no borra memoria) ==========
        function resetSession() {
            console.log('üîÑ Resetting session (keeping long-term memory)');
            
            // Solo resetear memoria a corto plazo
            appState.adaptiveState.shortTermMemory = {
                currentRange: null,
                currentFamily: null,
                currentPattern: null,
                recentFailures: 0,
                recentSuccesses: 0,
                attemptedPatterns: [],
                sessionPatterns: {}
            };
            
            appState.stats.currentSessionAttempts = 0;
            appState.stats.sessionStartTime = Date.now();
            
            setStatus('ready', 'Session reset', 'Long-term learning preserved, starting fresh session');
            updateAdaptiveStatsDisplay();
        }

        // ========== FUNCI√ìN PARA VER LO APRENDIDO ==========
        function showLearningInfo() {
            console.log('üß† Long-term learning summary:');
            
            Object.keys(appState.adaptiveState.longTermMemory).forEach(range => {
                const memory = appState.adaptiveState.longTermMemory[range];
                console.log(`\nRange ${range}:`);
                console.log(`  CV Score: ${(memory.familyScores.CV * 100).toFixed(1)}%`);
                console.log(`  VC Score: ${(memory.familyScores.VC * 100).toFixed(1)}%`);
                console.log(`  Successful patterns: ${Object.keys(memory.successfulPatterns).length}`);
                
                // Mostrar patrones m√°s exitosos
                const topPatterns = Object.entries(memory.successfulPatterns)
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 3);
                
                if (topPatterns.length > 0) {
                    console.log('  Top patterns:');
                    topPatterns.forEach(([pattern, count]) => {
                        const confidence = memory.patternConfidence[pattern] || 0;
                        console.log(`    ${pattern}: ${count} hits (${(confidence * 100).toFixed(1)}% confidence)`);
                    });
                }
            });
            
            // Mostrar en UI
            const patternsCount = Object.values(appState.adaptiveState.longTermMemory)
                .reduce((total, mem) => total + Object.keys(mem.successfulPatterns).length, 0);
            
            setStatus('ready', `Learning: ${patternsCount} patterns memorized`, 
                `Check console for detailed learning information (F12)`);
        }

        // =======  === B√öSQUEDA PRINCIPAL ==========
        async function startSearch() {
            if (appState.searchActive) return;
            
            appState.searchActive = true;
            appState.stats.currentSessionAttempts = 0;
            appState.stats.sessionStartTime = Date.now();
            
            // Deshabilitar controles
            startBtn.disabled = true;
            stopBtn.disabled = false;
            openBtn.disabled = true;
            resultContainer.style.display = 'none';
            pureRandomModeBtn.disabled = true;
            adaptiveModeBtn.disabled = true;
            minLengthOptions.forEach(btn => btn.disabled = true);
            
            const rangeLabel = currentMinLength === 2 ? '2-12' : 
                             currentMinLength === 5 ? '5-12' : '9-12';
            
            setStatus('searching', 
                currentMode === 'pureRandom' 
                    ? `Pure Random search running (${rangeLabel})...` 
                    : `Adaptive search running (${rangeLabel})...`,
                `Speed: ${Math.round(1000/CONFIG.DELAY_BETWEEN_CHECKS)} attempts/sec | Max: ${CONFIG.MAX_ATTEMPTS} attempts`
            );
            
            // Usar setInterval para m√°xima velocidad
            appState.searchInterval = setInterval(async () => {
                if (!appState.searchActive || appState.stats.currentSessionAttempts >= CONFIG.MAX_ATTEMPTS) {
                    if (appState.stats.currentSessionAttempts >= CONFIG.MAX_ATTEMPTS) {
                        setStatus('notfound', `Maximum attempts reached (${CONFIG.MAX_ATTEMPTS}).`, 'Try again or adjust settings.');
                    }
                    stopSearch();
                    return;
                }
                
                appState.stats.currentSessionAttempts++;
                appState.stats.totalAttempts++;
                
                // Generar dominio seg√∫n el modo
                const domainResult = currentMode === 'pureRandom' 
                    ? getPureRandomDomain() 
                    : getAdaptiveDomain();
                
                // Mostrar intento actual
                const displayDetail = currentMode === 'pureRandom'
                    ? `Attempt ${appState.stats.currentSessionAttempts}: ${domainResult.length} chars ‚Ä¢ ${domainResult.domain}`
                    : `Attempt ${appState.stats.currentSessionAttempts}: ${domainResult.range} ‚Ä¢ ${domainResult.family} ‚Ä¢ ${domainResult.pattern} ‚Ä¢ ${domainResult.domain}`;
                
                setStatus('searching', 'Testing domain...', displayDetail);
                
                // Actualizar estad√≠sticas EN TIEMPO REAL
                updateStatsDisplay();
                
                // Verificar dominio
                const isWorking = await testUrl(domainResult.domain);
                
                if (isWorking && appState.searchActive) {
                    // ¬°√âXITO!
                    appState.currentVerifiedUrl = `https://${domainResult.domain}`;
                    appState.stats.foundCount++;
                    
                    // Actualizar aprendizaje adaptativo
                    if (currentMode === 'adaptive') {
                        updateAdaptiveLearning(true, domainResult);
                    }
                    
                    // Detener b√∫squeda
                    clearInterval(appState.searchInterval);
                    appState.searchActive = false;
                    
                    setStatus('found', 'Website discovered!', 
                        `Found after ${appState.stats.currentSessionAttempts} attempts ‚Ä¢ Length: ${domainResult.length} chars ‚Ä¢ Range: ${domainResult.range}`
                    );
                    
                    // Mostrar enlace
                    verifiedLinkDisplay.innerHTML = `<a href="${appState.currentVerifiedUrl}" target="_blank" rel="noopener noreferrer">${appState.currentVerifiedUrl}</a>`;
                    resultContainer.style.display = 'block';
                    openBtn.disabled = false;
                    updateStatsDisplay();
                    
                    // Habilitar controles
                    startBtn.disabled = false;
                    stopBtn.disabled = true;
                    pureRandomModeBtn.disabled = false;
                    adaptiveModeBtn.disabled = false;
                    minLengthOptions.forEach(btn => btn.disabled = false);
                    
                    console.log(`‚úÖ Found: ${domainResult.domain} | Mode: ${currentMode} | Range: ${domainResult.range}`);
                } else if (currentMode === 'adaptive') {
                    // Actualizar manejo de fallos para Adaptive
                    handleAdaptiveFailure(domainResult);
                }
                // Si falla, setInterval sigue corriendo cada 50ms
                
            }, CONFIG.DELAY_BETWEEN_CHECKS);
        }

        function stopSearch() {
            appState.searchActive = false;
            if (appState.searchInterval) {
                clearInterval(appState.searchInterval);
                appState.searchInterval = null;
            }
            startBtn.disabled = false;
            stopBtn.disabled = true;
            pureRandomModeBtn.disabled = false;
            adaptiveModeBtn.disabled = false;
            minLengthOptions.forEach(btn => btn.disabled = false);
        }

        function openCurrentLink() {
            if (appState.currentVerifiedUrl) {
                window.open(appState.currentVerifiedUrl, '_blank', 'noopener,noreferrer');
            }
        }

        // ========== INICIALIZACI√ìN MEJORADA ==========
        function initializeApp() {
            // Cargar datos guardados
            const loaded = loadFromLocalStorage();
            
            // Configurar event listeners
            pureRandomModeBtn.addEventListener('click', () => {
                setMode('pureRandom');
                console.log('üé≤ Switched to Pure Random mode');
            });
            
            adaptiveModeBtn.addEventListener('click', () => {
                setMode('adaptive');
                console.log('üß† Switched to Adaptive mode');
                // Mostrar estado actual
                const activeRange = getActiveRange();
                const longTerm = appState.adaptiveState.longTermMemory[activeRange];
                console.log(`üìä Current adaptive state for ${activeRange}:`, longTerm);
            });
            
            minLengthOptions.forEach(option => {
                option.addEventListener('click', () => {
                    const min = parseInt(option.dataset.min);
                    setMinLength(min);
                    console.log(`üìè Min length set to: ${min}`);
                });
            });
            
            // Inicializar display
            updateStatsDisplay();
            updateAdaptiveStatsDisplay();
            
            // Detener b√∫squeda al cerrar p√°gina
            window.addEventListener('beforeunload', () => {
                stopSearch();
                saveToLocalStorage();
            });
            
            // Auto-save cada 30 segundos
            setInterval(saveToLocalStorage, 30000);
            
            console.log('üöÄ Random Web Explorer v8.0 initialized (Intelligent Learning)');
            console.log('üíæ localStorage:', loaded ? 'Data loaded' : 'No saved data');
            console.log('‚ö° Speed:', Math.round(1000/CONFIG.DELAY_BETWEEN_CHECKS), 'attempts/sec');
            console.log('üß† Adaptive mode: Long-term memory with gradual forgetting');
        }

        // Iniciar aplicaci√≥n
        initializeApp();
    </script>
</body>
</html>

